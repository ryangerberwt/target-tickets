<script>
    var $ = jQuery;
    var preventFire = false;
    console.log('OT-1370 Control');
    window.onload = function () {
        if (window.location.href.indexOf('ford.co.uk/shop/price-and-locate/bp/preferred-dealer') > 0) {
            console.log('On Dealer Locator Page')
            if (preventFire === false || preventFire == false) {
                $(function () {
                    window.targetCampaign = {
                        page: {
                            campaignName: 'tt:nwp:opt-1370:ab:lad:search-input:control'
                        }
                    }
                    console.log('firing impression')
                    _satellite.track('genericTestingImpressionIDWorkaround');
                    preventFire = true;
                });
            } else {
                console.log('impression has fired... skipping...')
            }


            /* Fix To Prevent multiple re-fires of impression ID*/
            window.addEventListener('keyup', function () {
                if (window.targetCampaign.page.campaignName !== "") {
                    window.targetCampaign = {
                        page: {
                            campaignName: ""
                        }
                    }
                }
                console.log('firing impression on event listner')
                _satellite.track('genericTestingImpressionIDWorkaround');

            });

        }
    }
</script>